{"version":3,"file":"icon.browser.js","sources":["../../src/js/browser/icon.browser.ts","../../src/js/icon.browser.ts"],"sourcesContent":["class NeoIconBrowser {\n  protected element:HTMLElement;\n  protected content:HTMLElement;\n  protected list:HTMLElement;\n  protected search:HTMLInputElement;\n  protected categories:HTMLSelectElement;\n  protected pager:NodeListOf<HTMLElement>;\n  protected pagerPrev:NodeListOf<HTMLElement>;\n  protected pagerNext:NodeListOf<HTMLElement>;\n  protected infoPages:HTMLElement;\n  protected iconsAll: Array<ExoIcon> = [];\n  protected icons: Array<ExoIcon> = [];\n  protected limit:number = 80;\n  protected page:number = 1;\n  protected searchTimer:NodeJS.Timeout|undefined;\n  protected category:string = '';\n  protected searchQuery:string = '';\n  protected showInfo:boolean = false;\n  protected updateInput:string|null;\n  protected updateInputFormat:string|null;\n  protected updateAllowEmpty:boolean = false;\n  protected updateIcon:string|null;\n\n  /**\n   * Construct.\n   */\n  constructor(element:HTMLElement) {\n    this.element = element;\n    this.content = element.querySelector('.neo-icon-browser--content') as HTMLElement;\n    this.list = element.querySelector('.neo-icon-browser--list') as HTMLElement;\n    this.search = element.querySelector('.neo-icon-browser--search') as HTMLInputElement;\n    this.categories = element.querySelector('.neo-icon-browser--libraries') as HTMLSelectElement;\n    this.pager = element.querySelectorAll('.neo-icon-browser--pager');\n    this.pagerPrev = element.querySelectorAll('.neo-icon-browser--pager-prev');\n    this.pagerNext = element.querySelectorAll('.neo-icon-browser--pager-next');\n    this.infoPages = element.querySelector('.neo-icon-browser--info-pages') as HTMLElement;\n    this.showInfo = this.element.dataset.showInfo === 'true';\n    this.updateInput = this.element.dataset.updateInput || null;\n    this.updateInputFormat = this.element.dataset.updateInputFormat || 'name';\n    // this.updateAllowEmpty = this.element.dataset.updateAllowEmpty === 'true';\n    this.updateAllowEmpty = true;\n    this.updateIcon = this.element.dataset.updateIcon || null;\n\n    this.content.style.display = 'none';\n    this.content.classList.remove('hidden');\n\n    this.fetchData().then(data => {\n      this.iconsAll = data;\n      this.buildCategories();\n      this.buildSearch();\n      this.buildIcons();\n      this.buildPager();\n      const loader = this.element.querySelector('.neo-icon-browser--loader') as HTMLElement;\n      if (loader) {\n        loader.addEventListener('transitionend', () => {\n          loader.style.display = 'none';\n          this.content.style.display = 'block';\n          setTimeout(() => {\n            this.content.classList.remove('opacity-0');\n          });\n        });\n        loader.classList.add('opacity-0');\n      }\n    });\n  }\n\n  /**\n   * Fetch icon data.\n   */\n  protected fetchData = async ():Promise<Array<ExoIcon>> => {\n    let url = drupalSettings.path.baseUrl + 'api/icons';\n    if (this.element.dataset.libraries) {\n      const libraries = JSON.parse(this.element.dataset.libraries) as Array<string>;\n      url += '/' + libraries.join('+');\n    }\n    const source = await fetch(\n      url\n    );\n    const data = await source.json();\n    return data;\n  }\n\n  protected buildCategories() {\n    if (!this.categories) {\n      return;\n    }\n    this.categories.addEventListener('change', () => {\n      this.category = this.categories.value;\n      this.buildIcons();\n    });\n  }\n\n  protected buildSearch() {\n    this.searchQuery = this.search.value.toString().toLowerCase();\n    this.search.focus();\n    this.search.addEventListener('keyup', () => {\n      clearTimeout(this.searchTimer);\n      this.searchTimer = setTimeout(() => {\n        this.searchQuery = this.search.value.toString().toLowerCase();\n        this.buildIcons();\n      }, 300);\n    });\n  }\n\n  protected buildPager() {\n    this.pagerPrev.forEach(item => {\n      item.addEventListener('click', e => {\n        e.preventDefault();\n        if (!item.classList.contains('disabled')) {\n          this.page--;\n          this.placeIcons();\n        }\n      });\n    });\n    this.pagerNext.forEach(item => {\n      item.addEventListener('click', e => {\n        e.preventDefault();\n        if (!item.classList.contains('disabled')) {\n          this.page++;\n          this.placeIcons();\n        }\n      });\n    });\n    this.togglePager();\n  }\n\n  protected togglePager() {\n    if (this.limit > this.icons.length) {\n      this.pager.forEach(item => item.classList.add('hidden'));\n    }\n    else {\n      this.pager.forEach(item => item.classList.remove('hidden'));\n    }\n    if (this.page === 1) {\n      this.pagerPrev.forEach(item => item.classList.add('disabled'));\n    }\n    else {\n      this.pagerPrev.forEach(item => item.classList.remove('disabled'));\n    }\n    if (this.limit * this.page > this.icons.length) {\n      this.pagerNext.forEach(item => item.classList.add('disabled'));\n    }\n    else {\n      this.pagerNext.forEach(item => item.classList.remove('disabled'));\n    }\n  }\n\n  protected buildIcons() {\n    this.icons = this.iconsAll;\n    if (this.category !== '') {\n      this.icons = this.icons.filter(icon => {\n        return icon.library === this.category;\n      });\n    }\n    if (this.searchQuery !== '') {\n      this.icons = this.icons.filter(icon => {\n        return icon.name.toLowerCase().indexOf(this.searchQuery) > -1;\n      });\n    }\n    this.page = 1;\n    this.placeIcons();\n  }\n\n  protected copyToClipboard(e:Event, text:string, value:string) {\n    e.preventDefault();\n    let target = e.target as HTMLTippyElement;\n    target = target.classList.contains('use-neo-tooltip') ? target : target.closest('.use-neo-tooltip') as HTMLTippyElement;\n    if (target.hasOwnProperty('_tippy')) {\n      target._tippy.setContent('Copied');\n      target._tippy.show();\n      navigator.clipboard.writeText(value);\n      setTimeout(() => {\n        target._tippy.hide();\n        setTimeout(() => {\n          target._tippy.setContent(text);\n        }, 1000);\n      }, 1000);\n    }\n  }\n\n  protected placeIcons() {\n    const icons:ExoIcon[] = [];\n    let limit = this.limit;\n    if (this.updateInput && this.updateAllowEmpty) {\n      let empty = this.icons.find(icon => {\n        return icon.name === 'ban';\n      });\n      if (empty) {\n        empty = Object.assign({}, empty);\n        empty.empty = true;\n        empty.render = empty.render.replace(empty.selector, empty.selector + ' text-alert-500 opacity-60');\n        icons.push(empty);\n        limit--;\n      }\n    }\n    const max = limit * this.page;\n    const min = max - limit;\n    let count = 0;\n    this.icons.forEach(icon => {\n      if (count >= min && count < max) {\n        icons.push(icon);\n      }\n      count++;\n    });\n\n    this.list.innerHTML = '';\n    icons.forEach(icon => {\n      const item = this.showInfo ? document.createElement('div') : document.createElement('a');\n      const itemIcon = this.showInfo ? document.createElement('a') : document.createElement('div');\n      itemIcon.classList.add('neo-icon-browser--icon', 'flex', 'items-center', 'justify-center', 'rounded', 'h-20', 'text-4xl', 'bg-base-200', 'border', 'border-base-300', 'text-base-content-200', 'w-full', 'overflow-hidden', '[&_span:before]:!text-base-content-200');\n      itemIcon.innerHTML = icon.render;\n      item.appendChild(itemIcon);\n      if (this.showInfo && !this.updateInput && !this.updateIcon && !icon.empty) {\n        const itemIconContent = 'Copy Icon Name';\n        itemIcon.setAttribute('href', '#');\n        itemIcon.classList.add('use-neo-tooltip');\n        itemIcon.setAttribute('data-tippy-content', itemIconContent);\n        itemIcon.setAttribute('data-tippy-delay', '200');\n        itemIcon.addEventListener('click', e => {\n          this.copyToClipboard(e, itemIconContent, icon.name);\n        });\n\n        const itemInfo = document.createElement('div');\n        itemInfo.classList.add('neo-icon-browser--icon-info', 'flex', 'flex-col', 'text-xs', 'text-base-content-300', 'mt-1');\n        item.appendChild(itemInfo);\n\n        const itemName = document.createElement('a');\n        itemName.setAttribute('href', '#');\n        itemName.classList.add('neo-icon-browser--icon-name', 'flex', 'text-base', 'text-xs');\n        itemName.innerHTML = '<div class=\"mr-1 opacity-60\">' + Drupal.t('Name') + ':</div> <div class=\"text-ellipsis overflow-hidden whitespace-nowrap\">' + icon.name + '</div>';\n        itemName.classList.add('use-neo-tooltip');\n        itemName.setAttribute('data-tippy-content', itemIconContent);\n        itemName.setAttribute('data-tippy-delay', '200');\n        itemName.addEventListener('click', e => {\n          this.copyToClipboard(e, itemIconContent, icon.name);\n        });\n        itemInfo.appendChild(itemName);\n\n        const itemLibrary = document.createElement('div');\n        itemLibrary.classList.add('neo-icon-browser--icon-library', 'flex');\n        itemLibrary.innerHTML = '<div class=\"mr-1 opacity-60\">' + Drupal.t('Library') + ':</div> ' + icon.library;\n        itemInfo.appendChild(itemLibrary);\n\n        if (icon.hex) {\n          const itemHex = document.createElement('a');\n          const itemHexContent = 'Copy Hex Value';\n          itemHex.setAttribute('href', '#');\n          itemHex.classList.add('neo-icon-browser--icon-hex', 'flex', 'text-base', 'text-xs');\n          itemHex.innerHTML = '<div class=\"mr-1 opacity-60\">' + Drupal.t('Hex') + ':</div> ' + icon.hex;\n          itemHex.classList.add('use-neo-tooltip');\n          itemHex.setAttribute('data-tippy-content', itemHexContent);\n          itemHex.setAttribute('data-tippy-delay', '200');\n          itemHex.addEventListener('click', e => {\n            this.copyToClipboard(e, itemHexContent, icon.hex);\n          });\n          itemInfo.appendChild(itemHex);\n        }\n      }\n      else {\n        if (icon.empty) {\n          itemIcon.classList.add('opacity-60', 'text-alert-500');\n          item.classList.add('neo-icon-browser--empty');\n          item.classList.add('use-neo-tooltip');\n          item.classList.add('use-neo-tooltip');\n          item.setAttribute('data-tippy-content', 'None');\n        }\n        item.setAttribute('href', '#');\n        item.addEventListener('click', e => {\n          e.preventDefault();\n\n          const modal = this.element.closest('.neo-modal');\n          if (modal) {\n            NeoModal.closeTop();\n          }\n          if (this.updateInput) {\n            const element = document.querySelector(this.updateInput) as HTMLInputElement;\n            if (element) {\n              if (icon.empty) {\n                element.value = '';\n              }\n              else {\n                switch (this.updateInputFormat) {\n                  case 'selector':\n                    element.value = icon.selector;\n                    break;\n                  case 'name':\n                  default:\n                    element.value = icon.name;\n                    break;\n                }\n              }\n              element.dispatchEvent(new Event('input', {\n                bubbles: true,\n                cancelable: true,\n              }));\n            }\n          }\n          if (this.updateIcon) {\n            const element = document.querySelector(this.updateIcon) as HTMLInputElement;\n            if (element) {\n              element.outerHTML = icon.render;\n            }\n          }\n        });\n      }\n      item.classList.add('neo-icon-browser--item', 'bg-base-50', 'border', 'border-base-300', 'rounded-lg', 'p-3', 'm-1', 'flex', 'flex-col', 'hover:bg-base-100', 'focus', 'transition-all');\n      item.tabIndex = 0;\n      item.setAttribute('aria-label', icon.name);\n      this.list.appendChild(item);\n    });\n    const modal = this.element.closest('.neo-modal--content-inner');\n    if (modal) {\n      modal.scrollTo({top: 0, behavior: 'smooth'});\n    }\n    else {\n      this.element.scrollIntoView({behavior: 'smooth'});\n    }\n    if (Drupal.behaviors && Drupal.behaviors.neoTooltip) {\n      Drupal.behaviors.neoTooltip.attach(this.element);\n    }\n    this.togglePager();\n    this.buildInfo();\n  }\n\n  protected buildInfo() {\n    this.infoPages.innerHTML = Drupal.t('Page <strong>@current</strong> of <strong>@total</strong>', {\n      '@current': this.page.toString(),\n      '@total': ((Math.floor(this.icons.length / this.limit) + 1)).toString(),\n    });\n  }\n\n}\n\nexport {NeoIconBrowser};\n","import { NeoIconBrowser } from './browser/icon.browser';\n\n(function (Drupal, once) {\n\n  Drupal.behaviors.chatInbox = {\n    attach: (context:HTMLElement) => {\n      once('neo.icon.browser', '.neo-icon-browser', context).forEach(el => {\n        new NeoIconBrowser(el);\n      });\n    }\n  };\n\n})(Drupal, once);\n\nexport {};\n"],"names":["NeoIconBrowser","element","__publicField","url","libraries","data","loader","item","e","icon","text","value","target","icons","limit","empty","max","min","count","itemIcon","itemIconContent","itemInfo","itemName","itemLibrary","itemHex","itemHexContent","modal","Drupal","once","context","el"],"mappings":"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"}